<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>在庫管理システム</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ログイン画面 -->
  <section id="loginSection">
    <h1>在庫管理システム</h1>
    <input type="text" id="userIdInput" placeholder="責任者番号を入力" />
    <button id="loginBtn">ログイン</button>
    <p id="loginError" class="error"></p>
  </section>

  <!-- ホーム画面 -->
  <section id="homeSection" class="hidden">
    <header>
      <div class="title-block">
        <h2>在庫管理</h2>
        <span id="currentTime"></span>
      </div>
      <div class="user-info">
        <span id="userNameDisplay"></span>
        <span id="userRoleBadge" class="badge"></span>
      </div>
      <button id="menuToggle">☰</button>
    </header>

    <!-- ハンバーガーメニュー -->
    <nav id="sideMenu" class="hidden">
      <button id="introToggle">💡 機能紹介</button>
      <ul>
        <li><a href="#" id="navRegister">商品登録</a></li>
        <li><a href="#" id="navList">商品一覧</a></li>
        <li><a href="#" id="navReport">問題報告</a></li>
        <li><a href="#" id="navAdmin" class="admin-only hidden">管理者画面</a></li>
      </ul>
    </nav>

    <!-- メイン画面 -->
    <main>
      <!-- 商品登録画面 -->
      <section id="registerSection" class="hidden">
        <h3>商品登録</h3>
        <input type="text" id="productName" placeholder="商品名" />
        <input type="text" id="janCode" placeholder="JANコード" />
        <input type="text" id="lotNo" placeholder="製造番号 / Lot.No" />
        <input type="number" id="quantity" placeholder="数量" />
        <select id="unitSelect">
          <option value="個">個</option>
          <option value="袋">袋</option>
          <option value="パック">パック</option>
          <option value="セット">セット</option>
          <option value="本">本</option>
          <option value="包">包</option>
          <option value="枚">枚</option>
        </select>
        <select id="locationSelect"></select>
        <select id="categorySelect"></select>
        <input type="text" id="subcategoryInput" placeholder="小分類（任意）" />
        <button id="registerBtn">登録</button>
      </section>

      <!-- 商品一覧画面 -->
      <section id="listSection" class="hidden">
        <h3>商品一覧</h3>
        <input type="text" id="searchInput" placeholder="商品名またはJANコードで検索" />
        <button id="searchBtn">検索</button>
        <ul id="productList"></ul>
      </section>

      <!-- 問題報告画面 -->
      <section id="reportSection" class="hidden">
        <h3>問題報告</h3>
        <input type="text" id="reportScreen" placeholder="画面名" />
        <textarea id="reportContent" placeholder="内容を入力"></textarea>
        <button id="reportBtn">報告する</button>
      </section>

      <!-- 管理者画面 -->
      <section id="adminSection" class="hidden">
        <h3>管理者画面</h3>
        <button id="exportCsvBtn">CSV出力</button>
        <ul id="pendingApprovalList"></ul>
        <ul id="changeRequestList"></ul>
        <ul id="reportList"></ul>
      </section>
    </main>
  </section>

  <!-- 通知 -->
  <div id="toast" class="hidden"></div>

  <!-- スクリプト -->
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="utils.js"></script>
  <script type="module" src="main.js"></script>
</body>
</html>
